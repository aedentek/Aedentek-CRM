<!DOCTYPE html>
<html>
<head>
    <title>Test Staff API Response</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .result { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px; }
        pre { white-space: pre-wrap; word-wrap: break-word; }
    </style>
</head>
<body>
    <h1>Testing Staff API Response Format</h1>
    <div id="results"></div>
    
    <script>
async function testStaffAPI() {
    const resultsDiv = document.getElementById('results');
    
    try {
        resultsDiv.innerHTML += '<div class="result">üîç Fetching staff data from API...</div>';
        
        const response = await fetch('http://localhost:4000/api/staff');
        
        if (response.ok) {
            const staffData = await response.json();
            resultsDiv.innerHTML += '<div class="result">‚úÖ API Response successful</div>';
            resultsDiv.innerHTML += '<div class="result"><strong>Number of staff members:</strong> ' + staffData.length + '</div>';
            
            if (staffData.length > 0) {
                const firstStaff = staffData[0];
                resultsDiv.innerHTML += '<div class="result"><strong>First staff member data:</strong><pre>' + JSON.stringify(firstStaff, null, 2) + '</pre></div>';
                
                // Check if joinDate is present
                if (firstStaff.joinDate) {
                    resultsDiv.innerHTML += '<div class="result" style="background: #d4edda;">‚úÖ joinDate field found: ' + firstStaff.joinDate + '</div>';
                } else if (firstStaff.join_date) {
                    resultsDiv.innerHTML += '<div class="result" style="background: #f8d7da;">‚ùå Still returning join_date instead of joinDate: ' + firstStaff.join_date + '</div>';
                } else {
                    resultsDiv.innerHTML += '<div class="result" style="background: #f8d7da;">‚ùå No date field found</div>';
                }
                
                // Check if category_id is present
                if (firstStaff.category_id) {
                    resultsDiv.innerHTML += '<div class="result" style="background: #d4edda;">‚úÖ category_id field found: ' + firstStaff.category_id + '</div>';
                } else {
                    resultsDiv.innerHTML += '<div class="result" style="background: #f8d7da;">‚ùå category_id field missing</div>';
                }
            }
        } else {
            resultsDiv.innerHTML += '<div class="result" style="background: #f8d7da;">‚ùå API Error: ' + response.status + '</div>';
        }
        
    } catch (error) {
        resultsDiv.innerHTML += '<div class="result" style="background: #f8d7da;">‚ùå Test failed: ' + error.message + '</div>';
    }
}

// Run test on page load
testStaffAPI();
    </script>
</body>
</html>
