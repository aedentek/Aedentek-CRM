<!DOCTYPE html>
<html>
<head>
    <title>Test Doctor API Join Date</title>
</head>
<body>
    <h1>Doctor API Join Date Test</h1>
    <div id="output"></div>
    <script>
        async function testDoctorAPI() {
            try {
                console.log('üß™ Testing doctor API for join_date...');
                
                const response = await fetch('http://localhost:4000/api/doctor-salaries');
                const data = await response.json();
                
                console.log('üìä Full API Response:', data);
                
                if (data.success && data.data) {
                    const doctors = data.data;
                    console.log(`üë®‚Äç‚öïÔ∏è Total doctors: ${doctors.length}`);
                    
                    const output = document.getElementById('output');
                    let html = `<h2>API Response</h2><p>Total doctors: ${doctors.length}</p><table border="1"><tr><th>Name</th><th>ID</th><th>Join Date</th><th>Type</th></tr>`;
                    
                    doctors.forEach(doctor => {
                        console.log(`Doctor: ${doctor.name}`, {
                            id: doctor.id,
                            join_date: doctor.join_date,
                            join_date_type: typeof doctor.join_date,
                            all_fields: Object.keys(doctor)
                        });
                        
                        html += `<tr>
                            <td>${doctor.name}</td>
                            <td>${doctor.id}</td>
                            <td>${doctor.join_date || 'NULL'}</td>
                            <td>${typeof doctor.join_date}</td>
                        </tr>`;
                    });
                    
                    html += '</table>';
                    output.innerHTML = html;
                } else {
                    console.error('‚ùå API Error:', data);
                }
                
            } catch (error) {
                console.error('‚ùå Error testing API:', error);
                document.getElementById('output').innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        }
        
        testDoctorAPI();
    </script>
</body>
</html>
